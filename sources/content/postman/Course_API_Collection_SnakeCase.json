{
    "info": {
        "name": "Course API Collection (Snake Case)",
        "description": "Complete CRUD operations for Course entity with search and pagination - Using snake_case JSON format",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [{
            "key": "baseUrl",
            "value": "http://localhost:9100",
            "type": "string"
        },
        {
            "key": "courseId",
            "value": "",
            "type": "string"
        }
    ],
    "item": [{
            "name": "Course CRUD Operations",
            "item": [{
                    "name": "1. Create Course",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Java Programming Fundamentals\",\n  \"description\": \"Learn Java programming from basics to advanced concepts including OOP, collections, and exception handling\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n  \"structure_type\": \"LINEAR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Create a new course with LINEAR structure type"
                    },
                    "response": []
                },
                {
                    "name": "1.1. Create Course (ADAPTIVE)",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Advanced Data Structures\",\n  \"description\": \"Master complex data structures and algorithms with adaptive learning path\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440002\",\n  \"structure_type\": \"ADAPTIVE\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Create a new course with ADAPTIVE structure type"
                    },
                    "response": []
                },
                {
                    "name": "2. Get Course Detail",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses/{{courseId}}",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses", "{{courseId}}"]
                        },
                        "description": "Get detailed information of a specific course by ID"
                    },
                    "response": []
                },
                {
                    "name": "3. List All Courses",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Get all courses with default pagination (page=0, size=20)"
                    },
                    "response": []
                },
                {
                    "name": "3.1. List Courses with Pagination",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses?page=0&size=5",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"],
                            "query": [{
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "5"
                                }
                            ]
                        },
                        "description": "Get courses with custom pagination"
                    },
                    "response": []
                },
                {
                    "name": "4. Search Courses by Title",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses?title=Java",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"],
                            "query": [{
                                "key": "title",
                                "value": "Java"
                            }]
                        },
                        "description": "Search courses by title (case-insensitive partial match)"
                    },
                    "response": []
                },
                {
                    "name": "4.1. Search Courses by Instructor",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses?instructor_id=660e8400-e29b-41d4-a716-446655440001",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"],
                            "query": [{
                                "key": "instructor_id",
                                "value": "660e8400-e29b-41d4-a716-446655440001"
                            }]
                        },
                        "description": "Get all courses taught by a specific instructor"
                    },
                    "response": []
                },
                {
                    "name": "4.2. Search Courses by Structure Type",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses?structure_type=LINEAR",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"],
                            "query": [{
                                "key": "structure_type",
                                "value": "LINEAR"
                            }]
                        },
                        "description": "Get all courses with LINEAR structure type"
                    },
                    "response": []
                },
                {
                    "name": "4.3. Complex Search",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses?title=programming&structure_type=LINEAR&page=0&size=10",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"],
                            "query": [{
                                    "key": "title",
                                    "value": "programming"
                                },
                                {
                                    "key": "structure_type",
                                    "value": "LINEAR"
                                },
                                {
                                    "key": "page",
                                    "value": "0"
                                },
                                {
                                    "key": "size",
                                    "value": "10"
                                }
                            ]
                        },
                        "description": "Complex search with multiple criteria"
                    },
                    "response": []
                },
                {
                    "name": "5. Update Course",
                    "request": {
                        "method": "PUT",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Java Programming - Updated\",\n  \"description\": \"Updated description: Learn Java programming from basics to advanced concepts including OOP, collections, exception handling, and modern frameworks\",\n  \"structure_type\": \"ADAPTIVE\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses/{{courseId}}",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses", "{{courseId}}"]
                        },
                        "description": "Update course information"
                    },
                    "response": []
                },
                {
                    "name": "6. Delete Single Course",
                    "request": {
                        "method": "DELETE",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "[\"{{courseId}}\"]"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Delete a single course by ID"
                    },
                    "response": []
                },
                {
                    "name": "6.1. Delete Multiple Courses",
                    "request": {
                        "method": "DELETE",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "[\n  \"550e8400-e29b-41d4-a716-446655440001\",\n  \"550e8400-e29b-41d4-a716-446655440002\",\n  \"550e8400-e29b-41d4-a716-446655440003\"\n]"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Delete multiple courses by providing array of IDs"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Error Cases & Validation",
            "item": [{
                    "name": "Create Course - Missing Title",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"description\": \"Course without title\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n  \"structure_type\": \"LINEAR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Test validation - should return 400 error"
                    },
                    "response": []
                },
                {
                    "name": "Create Course - Invalid Structure Type",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Test Course\",\n  \"description\": \"Test description\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n  \"structure_type\": \"INVALID_TYPE\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Test validation - should return 400 error"
                    },
                    "response": []
                },
                {
                    "name": "Get Course - Not Found",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/courses/00000000-0000-0000-0000-000000000000",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses", "00000000-0000-0000-0000-000000000000"]
                        },
                        "description": "Test 404 error - course not found"
                    },
                    "response": []
                },
                {
                    "name": "Update Course - Not Found",
                    "request": {
                        "method": "PUT",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Updated Title\",\n  \"description\": \"Updated description\",\n  \"structure_type\": \"LINEAR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses/00000000-0000-0000-0000-000000000000",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses", "00000000-0000-0000-0000-000000000000"]
                        },
                        "description": "Test 404 error - course not found for update"
                    },
                    "response": []
                },
                {
                    "name": "Delete Course - Empty List",
                    "request": {
                        "method": "DELETE",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "[]"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Test validation - should return 400 error for empty list"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Sample Data Setup",
            "item": [{
                    "name": "Create Sample Course 1",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Introduction to Programming\",\n  \"description\": \"Learn the fundamentals of programming with Java\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n  \"structure_type\": \"LINEAR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Create sample course 1"
                    },
                    "response": []
                },
                {
                    "name": "Create Sample Course 2",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Advanced Algorithms\",\n  \"description\": \"Master complex algorithms and data structures\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440002\",\n  \"structure_type\": \"ADAPTIVE\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Create sample course 2"
                    },
                    "response": []
                },
                {
                    "name": "Create Sample Course 3",
                    "request": {
                        "method": "POST",
                        "header": [{
                            "key": "Content-Type",
                            "value": "application/json"
                        }],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"title\": \"Web Development\",\n  \"description\": \"Build modern web applications with Spring Boot\",\n  \"instructor_id\": \"660e8400-e29b-41d4-a716-446655440001\",\n  \"structure_type\": \"LINEAR\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/courses",
                            "host": ["{{baseUrl}}"],
                            "path": ["api", "courses"]
                        },
                        "description": "Create sample course 3"
                    },
                    "response": []
                }
            ]
        }
    ],
    "event": [{
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Auto-set courseId from create course response",
                    "if (pm.response && pm.response.json() && pm.response.json().data && pm.response.json().data.course_id) {",
                    "    pm.collectionVariables.set('courseId', pm.response.json().data.course_id);",
                    "}"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Auto-extract courseId from create course response",
                    "if (pm.response.json() && pm.response.json().data && pm.response.json().data.course_id) {",
                    "    pm.collectionVariables.set('courseId', pm.response.json().data.course_id);",
                    "    console.log('Course ID set to:', pm.response.json().data.course_id);",
                    "}",
                    "",
                    "// Test response status",
                    "pm.test('Status code is successful', function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                    "});",
                    "",
                    "// Test response format",
                    "pm.test('Response has correct format', function () {",
                    "    const jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('error_code');",
                    "    pm.expect(jsonData).to.have.property('message');",
                    "    pm.expect(jsonData).to.have.property('data');",
                    "});"
                ]
            }
        }
    ]
}